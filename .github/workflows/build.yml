name: build

on:
  # Allows manual workflow run (must in default branch to work)
  workflow_dispatch:

jobs:
  build-fedora-podman:
    runs-on: ubuntu-22.04
    steps:

    - name: Checkout repo
      uses: actions/checkout@v3

    - name: Setup Distrobuilder
      uses: supertemaki/setup-distrobuilder@main
      with:
        channel: latest/stable
      
    - name: Build lxd image container
      uses: supertemaki/distrobuilder-build@main

    - name: Run ls
      run: |-
        ls -la
        ls -la build-out
        
    - uses: actions/upload-artifact@v3
      with:
        name: my-artifact
        path: build-out
